<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="generator" content="Aspose.Words for .NET 25.1.0" /><title></title><style type="text/css">body { font-family:Arial; font-size:12pt }h1, h2, h3, h4, h5, h6, p { margin:0pt }h1 { margin-top:12pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; font-family:Calibri; font-size:24pt; font-weight:bold; font-style:normal; color:#2f5496 }h2 { margin-top:2pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; font-family:Calibri; font-size:18pt; font-weight:bold; font-style:normal; color:#2f5496 }h3 { margin-top:2pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; font-family:Calibri; font-size:14pt; font-weight:bold; font-style:normal; color:#1f3763 }h4 { margin-top:2pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; font-family:Calibri; font-size:12pt; font-weight:bold; font-style:normal; color:#2f5496 }h5 { margin-top:2pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; font-family:Calibri; font-size:10pt; font-weight:bold; font-style:normal; color:#2f5496 }h6 { margin-top:2pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; font-family:Calibri; font-size:8pt; font-weight:bold; font-style:normal; color:#1f3763 }span.Heading1Char { font-family:'Calibri Light'; font-size:16pt; color:#2f5496 }span.Heading2Char { font-family:'Calibri Light'; font-size:13pt; color:#2f5496 }span.Heading3Char { font-family:'Calibri Light'; font-size:12pt; color:#1f3763 }span.Heading4Char { font-family:'Calibri Light'; font-style:italic; color:#2f5496 }span.Heading5Char { font-family:'Calibri Light'; color:#2f5496 }span.Heading6Char { font-family:'Calibri Light'; color:#1f3763 }</style></head><body><div><p style="margin-bottom:12pt"><span>&lt;!DOCTYPE html&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&lt;html lang="pt"&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&lt;head&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;meta charset="UTF-8"&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;title&gt;Cortador de Música&lt;/title&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;style&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> input, button { margin: 10px; }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;/style&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&lt;/head&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&lt;body&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;h1&gt;Cortador de Música&lt;/h1&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;input type="file" id="audioFile" accept="audio/*"&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;br&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;label&gt;Início (segundos): &lt;input type="number" id="startTime" min="0" step="0.1"&gt;&lt;/label&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;label&gt;Fim (segundos): &lt;input type="number" id="endTime" min="0" step="0.1"&gt;&lt;/label&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;br&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;button onclick="cutAudio()"&gt;Cortar&lt;/button&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;br&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;audio id="audioPreview" controls&gt;&lt;/audio&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;br&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;a id="downloadLink" style="display: none;"&gt;Baixar Trecho&lt;/a&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span style="-aw-import:ignore">&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;script&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> let audioBuffer;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> let audioContext;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> function initAudioContext() {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> if (!audioContext) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> audioContext = new (window.AudioContext || window.webkitAudioContext)();</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // Carregar o arquivo de áudio</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> document.getElementById('audioFile').addEventListener('change', function(event) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> initAudioContext();</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const file = event.target.files[0];</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> if (file) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const reader = new FileReader();</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> reader.onload = function(e) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const arrayBuffer = e.target.result;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> audioContext.decodeAudioData(arrayBuffer,</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> function(decodedData) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> audioBuffer = decodedData;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> console.log('Áudio carregado:', audioBuffer);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> },</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> function(error) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> console.error('Erro ao decodificar áudio:', error);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> alert("Erro ao carregar o áudio. Tente outro arquivo.");</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> );</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> };</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> reader.readAsArrayBuffer(file);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> });</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> function cutAudio() {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> if (!audioBuffer) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> alert("Carregue um arquivo de áudio primeiro!");</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> return;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const start = parseFloat(document.getElementById('startTime').value);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const end = parseFloat(document.getElementById('endTime').value);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> if (isNaN(start) || isNaN(end) || start &gt;= end || start &lt; 0 || end &gt; audioBuffer.duration) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> alert("Insira tempos válidos!");</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> return;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const sampleRate = audioBuffer.sampleRate;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const startSample = Math.floor(start * sampleRate);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const endSample = Math.floor(end * sampleRate);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const frameCount = endSample - startSample;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const numChannels = audioBuffer.numberOfChannels;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // Cria um novo AudioBuffer para o trecho cortado</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const newBuffer = audioContext.createBuffer(numChannels, frameCount, sampleRate);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> for (let channel = 0; channel &lt; numChannels; channel++) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const oldData = audioBuffer.getChannelData(channel);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // Copia os dados usando slice (que já retorna uma cópia dos dados do Float32Array)</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const segment = oldData.slice(startSample, endSample);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> newBuffer.copyToChannel(segment, channel, 0);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> exportWAV(newBuffer);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> function exportWAV(buffer) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const numChannels = buffer.numberOfChannels;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const sampleRate = buffer.sampleRate;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> let samples;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> if (numChannels === 2) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> samples = interleave(buffer.getChannelData(0), buffer.getChannelData(1));</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> } else {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> samples = buffer.getChannelData(0);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const wavBuffer = encodeWAV(samples, sampleRate, numChannels);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const blob = new Blob([new DataView(wavBuffer)], { type: 'audio/wav' });</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const url = URL.createObjectURL(blob);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> document.getElementById('audioPreview').src = url;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const downloadLink = document.getElementById('downloadLink');</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> downloadLink.href = url;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> downloadLink.download = "trecho.wav";</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> downloadLink.style.display = "block";</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> downloadLink.textContent = "Baixar Trecho";</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> function interleave(inputL, inputR) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const length = inputL.length + inputR.length;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const result = new Float32Array(length);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> let index = 0, inputIndex = 0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> while (inputIndex &lt; inputL.length) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> result[index++] = inputL[inputIndex];</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> result[index++] = inputR[inputIndex];</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> inputIndex++;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> return result;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> function encodeWAV(samples, sampleRate, numChannels) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const buffer = new ArrayBuffer(44 + samples.length * 2);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> const view = new DataView(buffer);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // RIFF identifier</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> writeString(view, 0, 'RIFF');</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // tamanho do arquivo - 8 bytes</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> view.setUint32(4, 36 + samples.length * 2, true);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // RIFF type</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> writeString(view, 8, 'WAVE');</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // 'fmt ' chunk</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> writeString(view, 12, 'fmt ');</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // tamanho do 'fmt ' chunk</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> view.setUint32(16, 16, true);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // formato PCM</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> view.setUint16(20, 1, true);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // número de canais</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> view.setUint16(22, numChannels, true);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // taxa de amostragem</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> view.setUint32(24, sampleRate, true);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // byte rate</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> view.setUint32(28, sampleRate * numChannels * 2, true);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // block align</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> view.setUint16(32, numChannels * 2, true);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // bits por amostra</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> view.setUint16(34, 16, true);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // data chunk identifier</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> writeString(view, 36, 'data');</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> // data chunk length</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> view.setUint32(40, samples.length * 2, true);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> floatTo16BitPCM(view, 44, samples);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> return buffer;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> function floatTo16BitPCM(output, offset, input) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> for (let i = 0; i &lt; input.length; i++, offset += 2) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> let s = Math.max(-1, Math.min(1, input[i]));</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> output.setInt16(offset, s &lt; 0 ? s * 0x8000 : s * 0x7FFF, true);</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span>&#xa0;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> function writeString(view, offset, string) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> for (let i = 0; i &lt; string.length; i++) {</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> view.setUint8(offset + i, string.charCodeAt(i));</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> }</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&#xa0;</span><span> &lt;/script&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&lt;/body&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span>&lt;/html&gt;</span></p><p style="margin-top:12pt; margin-bottom:12pt"><span style="-aw-import:ignore">&#xa0;</span></p></div></body></html>
